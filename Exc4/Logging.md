## Архитектурное решение по логированию

### Анализ
Логи необходимо собирать со следующих систем:
  - CRM;
  - MES;
  - Онлайн магазин
Список необходимых логов с уровнем INFO:
  - создание заказа;
  - изменение статуса заказа;
  - авторизация пользователя;
  - транзакции при оплате заказов;
Требуется предусмотреть так же уровни логирования:
  - DEBUG - для разработки и отладки
  - WARNING - логирование потенциальных проблем;
  - ERROR - Логирование ошибок

### Мотивация
Внедрение системы логирования позволит:
  - анализировать работу системы - ее устойчивость и надежность;
  - повысит безопасность - можно отследить пользовательский путь с момента входа в систему;
  - ускорит время реакции на инциденты, уменьшит время на их исправление
  - даст возможность строить аналитику, например по количеству отказов в определенных местах системы
Для бизнеса, внедрение логирования улучшит пользовательский опыт путем ускоренного решения проблем пользователей при работе с системой.

### Предлагаемое решение
Предлагается реализовать логирование
  - на уровне приложений - с помощью logback
  - на уровне централизованного сбора и хранения логов - использовать стек ELK;
Под каждую систему требуется отдельный индекс.
Требуется обеспечить шифрование файлов с логами, так же обеспечить маскирование чувствительных и персональных данных - номера телефонов, адреса, данные транзакций.
Срок хранения логов определить по требованиям бизнеса, предлагается хранение минимум 14 дней.
Требуется настроить алертинг - по критическим ошибкам и по подозрительным действиям.
Требуется предусмотреть алгоритм алертинга на аномалии - например об аномальном большом количестве создания заказов в единицу времени.
[Схема организации логирования](../schemes/jewerly_c4_model_tracing.drawio)
